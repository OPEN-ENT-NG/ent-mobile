<ion-view cache-view="false">
  <ion-nav-title>{{getTitle()}}</ion-nav-title>
  <ion-nav-buttons side="right" >
    <button class="button button-icon button-clear ion-android-more-vertical buttonActionBar" ng-click=openPopover($event) ng-show=checkable ></button>
  </ion-nav-buttons>

  <ion-content>
    <ion-refresher pulling-text="{{translationWorkspace[loading]}}" on-refresh="doRefresh()"></ion-refresher>

    <ion-list >
      <ion-checkbox ng-repeat="folder in folders track by $index" ng-model="folder.checked" ng-show=checkable class="checkbox-list-item">
        <div ng-click="gotInDepthFolder(folder)" class="item item-text-wrap">
          <i class="folder-open-2icon- icon-file" ></i>
          <div class="info-file">
            <h2>{{folder.name}}</h2>
            <h3>{{folder.ownerName}}</h3>
          </div>
        </div>
      </ion-checkbox>

      <ion-item ng-repeat="folder in folders track by $index" ng-click="gotInDepthFolder(folder)" class="item item-text-wrap" on-long-press="enableCheck(folder)" ng-hide=checkable >
        <i class="folder-open-2icon- icon-file" ></i>
        <div class="info-file">
          <h2>{{folder.name}}</h2>
          <h3>{{folder.ownerName}}</h3>
        </div>
      </div>
    </ion-item>
  </ion-list>

  <div class="item item-divider" ng-show="folders.length>0 && documents.length>0"></div>

  <ion-list>

    <ion-item ng-repeat="doc in documents track by $index" class="item item-text-wrap item-thumbnail-left " ng-click="goToFile(doc)"  on-long-press="enableCheck(doc)" ng-hide=checkable >
      <img ng-src={{getImageUrl(doc.icon_image)}}></img>
      <h2>{{doc.name}}</h2>
      <h3>{{doc.ownerName}}</h3>
    </ion-item>

    <ion-checkbox ng-repeat="doc in documents track by $index" ng-model="doc.checked" ng-show=checkable class="checkbox-list-item">
      <div ng-click="goToFile(doc)" class="item item-text-wrap item-thumbnail-left" >
        <img ng-src={{getImageUrl(doc.icon_image)}}></img>
        <h2>{{doc.name}}</h2>
        <h3>{{doc.ownerName}}</h3>
      </div>
    </ion-checkbox>
  </ion-list>

</ion-content>
<nav id="actionMenu" mfb-menu position="br" effect="zoomin" active-icon="ion-plus-round" resting-icon="ion-plus-round" toggling-method="click" ng-show=isMyDocuments()&&!checkable>
  <li>
    <label data-mfb-label={{translationWorkspace["workspace.add.document"]}} class="mfb-component__button--child">
      <i class="mfb-component__child-icon fa fa-upload">
      </i>
      <input style="display:none;" type='file' onchange="angular.element(this).scope().addDocument(this)">
    </label>
  </li>
  <button mfb-button icon="folder-open-2icon-" ng-click="newFolder()" label={{translationWorkspace["folder.new.title"]}}></button>

</nav>
</ion-view>
